<!doctype html>
<html lang="en">

<head>
  <script type="text/javascript"> (function() { var css = document.createElement('link'); css.href = 'https://use.fontawesome.com/releases/v5.8.2/css/all.css'; css.rel = 'stylesheet'; css.type = 'text/css'; css.integrity = "sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay"; document.getElementsByTagName('head')[0].appendChild(css); })(); </script
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

  <!--Font awesome icons -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.6.0/js/bootstrap.min.js"
    integrity="sha512-zZSw+r0iHldyzE4QlWW0avq3ICd5v5O5HxS5ABjA0pX9YFz8pW1kwIHtEmyCtE2A91f8i/mIaGKkMtdO/M2BvQ=="
    crossorigin="anonymous"></script>
  

  <title>{% block title %} {% endblock %} </title>
  <style>
  </style>
</head>

<body style="zoom: 85%">




  <nav class="navbar navbar-expand-md navbar-dark bg-info "
    style="background-color: #f0f5f5; font-size: 25px; padding-left:15%; padding-right: 15%; padding-bottom: 1%; padding-top: 1%; max-height: max-content;">
    <a href="/" class="navbar-brand"><img src="/media/logo.png" width="218px" height="103px" alt="">
      

    </a>
    {% if user.is_authenticated %}
    <a href="/events" class="nav-link nav-item text-light d-none d-md-flex mt-0">
      <b> <i class="fa-sharp fa-solid fa-bolt "> </i> Events</b>
    </a>
    <a href="/social-clubs" class="nav-link nav-item text-light d-none d-md-flex mt-0">
      <b> <i class="fa-solid fa-people-group"></i> Social Clubs</b>
    </a>
    <a href="/users" class="nav-link nav-item text-light d-none d-md-flex mt-0">
      <b> <i class="fa-solid fa-user-group"></i> Users</b>
    </a>

    
    
    {% endif %}




    
    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
      <i class="fa-solid fa-bars " style="font-size: 30px;"></i>
    </button>
    
    <div class="collapse navbar-collapse " id="navbarCollapse">
      
      <div class="navbar-nav ml-auto" style="margin-right: 6%;">
        

        {% if user.is_authenticated %}
        <!-- This part dissapears when mobile -->
        


        
        <div class="dropdown d-none d-md-block" >
          <a href="#" id="imageDropdown" data-toggle="dropdown">
            <img class="rounded-circle account-img " style="border:4px solid white;" width="70px"
                 height="70px"
                  src="{{ request.user.profile.avatar.url }} " />
          </a>
          

          <ul class="dropdown-menu p-0" role="menu" aria-labelledby="imageDropdown">
            <a class="dropdown-item btn-lg btn-block btn-outline-primary" width="100%" href=""><b><i class="fa-solid fa-bell"></i> Notifications ({{notifications|length}})</b></a>
            <a class="dropdown-item btn-lg btn-block btn-outline-primary" width="100%" href="{% url 'users-profile' pk=request.user.pk %}"><b><i class="fa-solid fa-user"></i> Profile</b></a>
            <a class="dropdown-item btn btn-lg btn-block btn-outline-primary" data-toggle="modal" data-target="#logoutModalCenter"><b><i class="fa-solid fa-arrow-right-from-bracket"></i> Logout</b></a>

            
          </ul>

        </div>

        
        <!-- This part shows on mobile -->
        <ul class="d-md-none">
          
          <a href="/events" class="nav-link nav-item text-light"><i class="fa-sharp fa-solid fa-bolt "></i><b> Events</b></a>
          <a href="/social-clubs" class="nav-link nav-item text-white"><b> <i class="fa-solid fa-people-group"></i> Social Clubs</b></a>
          <hr style="background-color:white;">
          <a class="nav-link nav-item text-white" href="#"><b><i class="fa-solid fa-bell"></i> Notifications ({{notifications|length}})</b></a>
          <a class="nav-link nav-item text-white" href="{% url 'users-profile' pk=request.user.pk %}"><b><i class="fa-solid fa-user"></i> Profile</b></a>
          <hr style="background-color:white;">
          <a class="nav-link nav-item text-white" href="#" data-toggle="modal" data-target="#logoutModalCenter"><i class="fa-solid fa-arrow-right-from-bracket"></i><b> Logout</b></a>
        </ul>

        



        <div class="modal fade" id="logoutModalCenter" tabindex="-1" role="dialog" aria-labelledby="logoutModalCenter"
          aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Are you sure?</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                Do you want to log out?
              </div>
              <div class="modal-footer">
                <a href="{% url 'logout' %}" class="btn btn btn-danger">Logout</a>
                <button type="button" class="btn btn-secondary" data-dismiss="modal"><i class="fa-solid fa-x"></i>
                  Close</button>

              </div>
            </div>
          </div>
        </div>
        {% else %}
        <a href="{% url 'login' %}" class="nav-item nav-link"><b>Sign in</b></a>
        {% endif %}

      </div>
    </div>
  </nav>
  <!--Any flash messages pop up in any page because this is the base template-->
  {% if messages %}

  {% for message in messages %}
  <div
    class="alert alert-{{ message.tags }} {% if message.tags == 'error' %} alert-danger{% endif %} alert-dismissible mb-0"
    role="alert">{{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  {% endfor %}


  {% endif %}


  <div class="jumbotron" style="margin:0; padding-left: 15%; padding-right: 15%; min-height: 1000px;">
    {% block content %}{% endblock %}
  </div>


  <div class="bg-info text-center text-light p-3">
    <p style="color:white"><b> © 2023 Copyright: Berk Hüseyin Gaffaroğlu </b></p>
  </div>


  <!-- jQuery first, then Popper.js, then Bootstrap JS -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>

  <!-- A plugin for password show/hide  -->
  <script src="https://kit.fontawesome.com/7c0cdfeb17.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/bootstrap-show-password@1.2.1/dist/bootstrap-show-password.min.js"></script>
  <script>
    var checkboxes = document.querySelectorAll('input[name="keep_image"]');
  if (checkboxes) {
  for (var i = 0; i < checkboxes.length; i++) {
    checkboxes[i].addEventListener('change', function() {
      if (this.checked) {
        this.name = 'no_delete';
      } else {
        this.name = '';
      }
    });
  }
  }
  
  
    function previewImages() {  
      var preview = document.querySelector('#image-preview');
      if (this.files) {
        [].forEach.call(this.files, readAndPreview);
      }
  
      function readAndPreview(file) {
        if (!/\.(jpe?g|png|gif)$/i.test(file.name)) {
          return alert(file.name + " is not an image");
        }
  
        var reader = new FileReader();
  
        reader.addEventListener("load", function () {
  
          var image = new Image();
          image.height = 100;
          image.title = file.name;
          image.src = this.result;
          
          // Create a new checkbox for the image
          var checkbox = document.createElement('input');
          checkbox.type = 'checkbox';
          checkbox.name = 'keep_image_add';
          checkbox.value = file.name
          checkbox.checked = true;
  
          // Create a container for the image and the checkbox
          var container = document.createElement('div');
          container.className = 'image-preview-item';
          container.appendChild(image);
          container.appendChild(checkbox);
  
          preview.appendChild(container);
  
          // Add an event listener to the checkbox to remove the container if the checkbox is unchecked
          checkbox.addEventListener('change', function () {
            if (this.checked) {
              checkbox.name = 'keep_image_add'
            } else {
              checkbox.name = ''
            }
  
          });
        }, false);
  
        reader.readAsDataURL(file);
      }
    }
  
    var id_images = document.querySelector('#id_images')
    if(id_images){
    id_images.addEventListener("change", previewImages);
    }
  
  </script>
  <script>

    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })
  </script>

</body>

</html>

